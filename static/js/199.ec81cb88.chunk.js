"use strict";(self.webpackChunktweets=self.webpackChunktweets||[]).push([[199],{630:function(e,t,n){n.r(t),n.d(t,{default:function(){return J}});var r=n(87),s=n(36),a=n(165),o=n(861),i=n(439),c=n(791),u=n(402),l=n(413),f=n(433),p=n(500),d="Button_btn__wi4ey",w="Button_activeBtn__z0jU2 Button_btn__wi4ey",h=n(184),m=function(e){var t=e.children,n=e.onClick,r=e.funcParams,s=e.isLoading,a=e.isFollowing,o=void 0!==a&&a;return(0,h.jsxs)("button",{className:o?w:d,onClick:function(){return n(r)},children:[t,s&&(0,h.jsx)(p.Z,{width:"16"})]})},g=function(e){return e.toString().replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")},v=function(e){localStorage.setItem("followings",JSON.stringify(e))},x=n(243).Z.create({baseURL:"https://6404ed1540597b65de2d4b8d.mockapi.io/"}),_=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t,n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("users");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get("users",{params:{page:t,limit:n}});case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Z=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(t,n){var r,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.put("users/".concat(t),n);case 2:return r=e.sent,s=r.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),j="TweetsItem_tweetsItem__YHZ-T",b="TweetsItem_avatar__pjwWF",N="TweetsItem_text__5KJWg",O="TweetsItem_textWrap__K1Rf4",T=function(e){var t,n=e.followingsData,r=e.setFollowingsData,s=e.setTweets,p=e.item,d=e.page,w=e.limit,x=(0,c.useState)(!1),_=(0,i.Z)(x,2),T=_[0],C=_[1],y=p.id,F=p.avatar,S=p.tweets,L=p.followers,I=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=D?n.filter((function(e){return e.id!==y})):[].concat((0,f.Z)(n),[(0,l.Z)((0,l.Z)({},p),{},{isFollowing:!0})]),e.prev=1,C(!0),e.next=5,Z(y,{followers:D?L-1:L+1});case 5:return e.t0=s,e.next=8,k(1,w*d);case 8:e.t1=e.sent,(0,e.t0)(e.t1),e.next=15;break;case 12:e.prev=12,e.t2=e.catch(1),u.Am.error("Oops, something went wrong. Try reloading the page");case 15:return e.prev=15,C(!1),e.finish(15);case 18:r(t),v(t);case 20:case"end":return e.stop()}}),e,null,[[1,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),D=null===(t=n.find((function(e){return e.id===y})))||void 0===t?void 0:t.isFollowing;return(0,h.jsxs)("li",{className:j,children:[(0,h.jsx)("img",{className:b,src:F,alt:"avatar"}),(0,h.jsxs)("div",{className:O,children:[(0,h.jsxs)("p",{className:N,children:[g(S)," TWEETS"]}),(0,h.jsxs)("p",{className:N,children:[g(L)," FOLLOWERS"]})]}),(0,h.jsx)(m,{isFollowing:D,funcParams:p,onClick:I,isLoading:T,children:D?"FOLLOWING":"FOLLOW"})]},y)},C=n(820),y="Dropdown_disabled__amXBE",F="Dropdown_radioBtn__ntOg1",S="Dropdown_label__nDOCe",L="Dropdown_optionsWrap__m7pIB",I="Dropdown_dropdownWrap__f2d7s",D="Dropdown_checkedOption__P06dF",W=function(e){var t=e.checkedOption,n=e.setCheckedOption,r=e.setPage,s=(0,c.useState)(!1),a=(0,i.Z)(s,2),o=a[0],u=a[1],l=function(e){return e===t},f=function(){u((function(e){return!e}))},p=function(e){n(e.target.value),r(1)};return(0,h.jsxs)("form",{className:I,onClick:f,children:[(0,h.jsxs)("div",{className:D,children:[t,(0,h.jsx)(C.i0B,{size:"15"})]}),(0,h.jsxs)("div",{className:o?L:y,children:[(0,h.jsx)("label",{className:S,htmlFor:"show all",onClick:function(e){return f()},children:"show all"}),(0,h.jsx)("label",{className:S,htmlFor:"follow",onClick:function(e){return f()},children:"follow"}),(0,h.jsx)("label",{className:S,htmlFor:"followings",onClick:function(e){return f()},children:"followings"})]}),(0,h.jsx)("input",{className:F,type:"radio",name:"option",value:"show all",id:"show all",checked:l("show all"),onChange:p}),(0,h.jsx)("input",{className:F,type:"radio",name:"option",value:"follow",id:"follow",checked:l("follow"),onChange:p}),(0,h.jsx)("input",{className:F,type:"radio",name:"option",value:"followings",id:"followings",checked:l("followings"),onChange:p})]})},B=function(){return JSON.parse(localStorage.getItem("followings"))},A="Tweets_tweetsList__oijtz",E="Tweets_TweetsWrap__Ar87V",P="Tweets_tweetsItemWrap__n9RbA",z=function(){var e=(0,c.useState)([]),t=(0,i.Z)(e,2),n=t[0],r=t[1],s=(0,c.useState)("show all"),l=(0,i.Z)(s,2),f=l[0],d=l[1],w=(0,c.useState)((function(){var e=B();return e||[]})),g=(0,i.Z)(w,2),v=g[0],x=g[1],Z=(0,c.useState)(1),j=(0,i.Z)(Z,2),b=j[0],N=j[1],O=(0,c.useState)(!1),C=(0,i.Z)(O,2),y=C[0],F=C[1];(0,c.useEffect)((function(){(0,o.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(!0),e.next=4,k(1,3);case 4:t=e.sent,r(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u.Am.error("Oops, something went wrong. Try reloading the page");case 11:return e.prev=11,F(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()}),[r]),(0,c.useEffect)((function(){(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==b&&"show all"===f){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,F(!0),e.t0=r,e.next=7,k(1,3*b);case 7:e.t1=e.sent,(0,e.t0)(e.t1),e.next=14;break;case 11:e.prev=11,e.t2=e.catch(2),u.Am.error("Oops, something went wrong. Try reloading the page");case 14:return e.prev=14,F(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))()}),[b,f]),(0,c.useEffect)((function(){switch(f){case"followings":r(1===b?v.slice(0,3):v);break;case"follow":(0,o.Z)((0,a.Z)().mark((function e(){var t,n,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(!0),e.next=4,_();case 4:t=e.sent,n=null===v||void 0===v?void 0:v.map((function(e){return e.id})),s=t.filter((function(e){return!(null!==n&&void 0!==n&&n.some((function(t){return e.id===t})))})),r(1===b?s.slice(0,3):s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),u.Am.error("Oops, something went wrong. Try reloading the page");case 13:return e.prev=13,F(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,10,13,16]])})))();break;default:(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,F(!0),e.t0=r,e.next=5,k(1,3*b);case 5:e.t1=e.sent,(0,e.t0)(e.t1),e.next=12;break;case 9:e.prev=9,e.t2=e.catch(0),u.Am.error("Oops, something went wrong. Try reloading the page");case 12:return e.prev=12,F(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))()}}),[f,v,b]);var S=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(4!==b){e.next=2;break}return e.abrupt("return");case 2:N((function(e){return e+1}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[y&&(0,h.jsx)(p.Z,{width:"50"}),(0,h.jsxs)("div",{className:E,children:[(0,h.jsx)(W,{checkedOption:f,setCheckedOption:d,setPage:N}),(0,h.jsx)("ul",{className:A,children:n.map((function(e){return(0,h.jsx)("div",{className:P,children:(0,h.jsx)(T,{followingsData:v,setTweets:r,item:e,setFollowingsData:x,page:b,limit:3,setCheckedOption:d})},e.id)}))}),function(){switch(f){case"followings":return v.length>=4&&1===b;case"follow":return!(n.length>4);default:return n.length>=3&&n.length<12}}()&&(0,h.jsx)(m,{onClick:S,isLoading:y,children:"Load more"})]})]})},R="TweetsPage_section__-veI2",G="TweetsPage_navigationLink__VIZG2",J=function(){return(0,h.jsxs)("div",{className:R,children:[(0,h.jsxs)(r.rU,{className:G,to:"/",children:["Back to home",(0,h.jsx)(s.VG_,{color:"#471CA9",size:"20"})]}),(0,h.jsx)(z,{})]})}}}]);
//# sourceMappingURL=199.ec81cb88.chunk.js.map